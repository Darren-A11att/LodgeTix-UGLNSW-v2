# Migration Order

## For New Database Setup

Apply migrations in this exact order:

1. 20250601132457_db_001_create_functions_table.sql
2. 20250601132458_db_002_add_function_references.sql
3. 20250601132459_db_003_migrate_parent_events_to_functions.sql
4. 20250601132500_db_004_update_all_event_references.sql
5. 20250601132501_db_005_update_registrations_to_functions.sql
6. 20250601132502_db_006_update_packages_to_functions.sql
7. 20250601132503_db_007_make_function_references_required.sql
8. 20250601132504_db_008_drop_legacy_columns_and_constraints.sql
9. 20250601132505_db_009_update_rpc_functions_for_functions_architecture.sql
10. 20250601132506_db_010_create_new_views_for_functions.sql
11. 20250601132507_db_011_data_validation_queries.sql
12. 20250601132508_db_012_update_permissions_and_rls.sql
13. 20250601133000_setup_organiser_portal_auth.sql
14. 20250606_fix_get_event_with_details_et_id_error.sql

## For Existing Database

If your database was set up before June 6, 2025, only apply:
- 20250606_fix_get_event_with_details_et_id_error.sql

## Notes

- The functions architecture migrations (db_001-db_012) transform the database from the old parent_event structure to the new functions-based architecture
- These migrations must be applied in sequence as they depend on each other
- Always backup your database before applying migrations